{"version":3,"sources":["../static/js/LoginComp.7ac88ef9.chunk.js","components/LoginComp.js"],"names":["webpackJsonp","8507","module","__webpack_exports__","__webpack_require__","_asyncToGenerator","fn","gen","apply","this","arguments","Promise","resolve","reject","step","key","arg","info","value","error","done","then","err","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default","n","__WEBPACK_IMPORTED_MODULE_1_react__","__WEBPACK_IMPORTED_MODULE_1_react___default","__WEBPACK_IMPORTED_MODULE_2_axios__","__WEBPACK_IMPORTED_MODULE_2_axios___default","__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__","__WEBPACK_IMPORTED_MODULE_4_react_router_dom__","__WEBPACK_IMPORTED_MODULE_5_react_spinners_BeatLoader__","__WEBPACK_IMPORTED_MODULE_5_react_spinners_BeatLoader___default","_this","_slicedToArray","sliceIterator","arr","i","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","push","length","Array","isArray","TypeError","LoginComp","history","useHistory","useState","saveLoading","setSaveLoading","useEffect","localStorage","getItem","email","setEmail","password","setPassword","message","setMessage","login","event","preventDefault","userLogin","a","axios","post","BaseURL","response","data","loggedIn","username","setItem","JSON","stringify","setTimeout","className","Group","controlId","Label","Control","type","placeholder","onChange","target","Text","to","variant","onClick","disabled","color","size"],"mappings":"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","file":"static/js/LoginComp.7ac88ef9.chunk.js","sourcesContent":["webpackJsonp([5],{\n\n/***/ 8507:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__ = __webpack_require__(16);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_react_bootstrap__ = __webpack_require__(122);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_react_router_dom__ = __webpack_require__(17);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_spinners_BeatLoader__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_react_spinners_BeatLoader___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_react_spinners_BeatLoader__);\nvar _this=this;var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i[\"return\"])_i[\"return\"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if(Symbol.iterator in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");}};}();function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg);var value=info.value;}catch(error){reject(error);return;}if(info.done){resolve(value);}else{return Promise.resolve(value).then(function(value){step(\"next\",value);},function(err){step(\"throw\",err);});}}return step(\"next\");});};}var LoginComp=function LoginComp(){var history=Object(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"f\" /* useHistory */])();var _useState=Object(__WEBPACK_IMPORTED_MODULE_1_react__[\"useState\"])(false),_useState2=_slicedToArray(_useState,2),saveLoading=_useState2[0],setSaveLoading=_useState2[1];Object(__WEBPACK_IMPORTED_MODULE_1_react__[\"useEffect\"])(function(){if(localStorage.getItem(\"loggedIn\")){setSaveLoading(false);// history.push(\"/home\");\n}});var BaseURL=\"https://soapboxapi.megahoot.net\";var _useState3=Object(__WEBPACK_IMPORTED_MODULE_1_react__[\"useState\"])(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=Object(__WEBPACK_IMPORTED_MODULE_1_react__[\"useState\"])(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=Object(__WEBPACK_IMPORTED_MODULE_1_react__[\"useState\"])(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];var login=function login(event){setSaveLoading(true);event.preventDefault();var userLogin=function(){var _ref=_asyncToGenerator(/*#__PURE__*/__WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.mark(function _callee(){return __WEBPACK_IMPORTED_MODULE_0_babel_runtime_regenerator___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return __WEBPACK_IMPORTED_MODULE_2_axios___default.a.post(BaseURL+'/user/login',{email:email,password:password}).then(function(response){if(response.data.loggedIn){var loggedIn={username:response.data.username,email:response.data.email};localStorage.setItem(\"loggedIn\",JSON.stringify(loggedIn));setMessage(response.data.message);setTimeout(function(){// history.push(\"/home\");\nhistory.push(\"/\");},200);}setMessage(response.data.message);});case 2:case'end':return _context.stop();}}},_callee,_this);}));return function userLogin(){return _ref.apply(this,arguments);};}();userLogin();setTimeout(function(){setSaveLoading(false);},1000);};return __WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__[\"b\" /* Form */],{className:'login-form mx-auto p-4 pb-0'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('h3',{className:'text-center mb-2 login-head'},'Login'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__[\"b\" /* Form */].Group,{className:'mb-1',controlId:'formBasicEmail'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__[\"b\" /* Form */].Label,{className:'text-color-auth'},'Email'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__[\"b\" /* Form */].Control,{type:'email',placeholder:'Email',value:email,className:'login-form-input',onChange:function onChange(event){setEmail(event.target.value);}}),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__[\"b\" /* Form */].Text,{className:'text-muted'},'We\\'ll never share your email with anyone else.')),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__[\"b\" /* Form */].Group,{className:'mb-1',controlId:'formBasicPassword'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__[\"b\" /* Form */].Label,{className:'text-color-auth'},'Password'),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3_react_bootstrap__[\"b\" /* Form */].Control,{type:'password',placeholder:'Password',value:password,className:'login-form-input',onChange:function onChange(event){setPassword(event.target.value);}})),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('div',{className:'text-end text-decoration-none'},__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4_react_router_dom__[\"b\" /* Link */],{to:'/forgot_password',className:'text-decoration-none primary-color forgot-password'},'Forgot Password?')),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('strong',{className:'text-center d-flex justify-content-center m-2 text-color-auth'},message),__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement('button',{className:'d-grid col-12 btn-main login-form-button',variant:'primary',type:'submit',onClick:login,disabled:!email||!password},saveLoading?__WEBPACK_IMPORTED_MODULE_1_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5_react_spinners_BeatLoader___default.a,{color:\"#fff\",size:10}):\"Login\")));};/* harmony default export */ __webpack_exports__[\"default\"] = (LoginComp);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/LoginComp.7ac88ef9.chunk.js","import React, { useState, useEffect } from 'react'\r\nimport axios from 'axios'\r\nimport { Form } from 'react-bootstrap'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport BeatLoader from \"react-spinners/BeatLoader\";\r\n\r\nconst LoginComp = () => {\r\n    const history = useHistory();\r\n    const [saveLoading, setSaveLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"loggedIn\")) {\r\n            setSaveLoading(false);\r\n            // history.push(\"/home\");\r\n        }\r\n    })\r\n\r\n    const BaseURL = process.env.REACT_APP_API_URL;\r\n\r\n    const [email, setEmail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    const login = (event) => {\r\n        setSaveLoading(true);\r\n        event.preventDefault()\r\n\r\n        const userLogin = async () => {\r\n            await axios.post(`${BaseURL}/user/login`, {\r\n                email,\r\n                password,\r\n            }).then((response) => {\r\n                if (response.data.loggedIn) {\r\n                    const loggedIn = {\r\n                        username: response.data.username,\r\n                        email: response.data.email\r\n                    }\r\n                    localStorage.setItem(\"loggedIn\", JSON.stringify(loggedIn));\r\n                    setMessage(response.data.message);\r\n                    setTimeout(() => {\r\n                        // history.push(\"/home\");\r\n                        history.push(\"/\");\r\n                    }, 200);\r\n                }\r\n                setMessage(response.data.message);\r\n            })\r\n        }\r\n        userLogin();\r\n\r\n        setTimeout(() => {\r\n            setSaveLoading(false);\r\n        }, 1000);\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Form className=\"login-form mx-auto p-4 pb-0\">\r\n                <h3 className=\"text-center mb-2 login-head\">Login</h3>\r\n                <Form.Group className=\"mb-1\" controlId=\"formBasicEmail\">\r\n                    <Form.Label className=\"text-color-auth\">Email</Form.Label>\r\n                    <Form.Control\r\n                        type=\"email\"\r\n                        placeholder=\"Email\"\r\n                        value={email}\r\n                        className=\"login-form-input\"\r\n                        onChange={(event) => { setEmail(event.target.value) }}\r\n                    />\r\n                    <Form.Text className=\"text-muted\">\r\n                        We'll never share your email with anyone else.\r\n                    </Form.Text>\r\n                </Form.Group>\r\n\r\n                <Form.Group className=\"mb-1\" controlId=\"formBasicPassword\">\r\n                    <Form.Label className=\"text-color-auth\">Password</Form.Label>\r\n                    <Form.Control\r\n                        type=\"password\"\r\n                        placeholder=\"Password\"\r\n                        value={password}\r\n                        className=\"login-form-input\"\r\n                        onChange={(event) => { setPassword(event.target.value) }}\r\n                    />\r\n                </Form.Group>\r\n\r\n                <div className=\"text-end text-decoration-none\">\r\n                    <Link to=\"/forgot_password\" className=\"text-decoration-none primary-color forgot-password\">Forgot Password?</Link>\r\n                </div>\r\n\r\n                <strong className=\"text-center d-flex justify-content-center m-2 text-color-auth\">{message}</strong>\r\n\r\n                {/* <Button\r\n                    className=\"d-grid col-12\"\r\n                    variant=\"primary\"\r\n                    type=\"submit\"\r\n                    onClick={login}\r\n                    disabled={!email || !password}\r\n                >\r\n                    Login\r\n                </Button> */}\r\n\r\n                <button\r\n                    className=\"d-grid col-12 btn-main login-form-button\"\r\n                    variant=\"primary\"\r\n                    type=\"submit\"\r\n                    onClick={login}\r\n                    disabled={!email || !password}\r\n                >\r\n                    {saveLoading\r\n                        ?\r\n                        <BeatLoader color={\"#fff\"} size={10} />\r\n                        :\r\n                        \"Login\"\r\n                    }\r\n                </button>\r\n\r\n            </Form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginComp\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/LoginComp.js"],"sourceRoot":""}