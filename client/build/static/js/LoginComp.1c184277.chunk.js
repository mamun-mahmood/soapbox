webpackJsonp([8],{784:function(e,t,a){"use strict";function n(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(r,o){try{var c=t[r](o),l=c.value}catch(e){return void a(e)}if(!c.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}return n("next")})}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(37),o=a.n(r),c=a(1),l=a.n(c),s=a(36),i=a.n(s),u=(a(62),a(368)),m=a(10),f=a(21),d=a.n(f),p=this,b=function(){function e(e,t){var a=[],n=!0,r=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(n=(c=l.next()).done)&&(a.push(c.value),!t||a.length!==t);n=!0);}catch(e){r=!0,o=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw o}}return a}return function(t,a){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),g=function(){var e=Object(m.f)(),t=Object(c.useState)(!1),a=b(t,2),r=a[0],s=a[1];Object(c.useEffect)(function(){localStorage.getItem("loggedIn")&&s(!1)});var f=Object(c.useState)(""),g=b(f,2),h=g[0],v=g[1],y=Object(c.useState)(""),E=b(y,2),x=E[0],w=E[1],N=Object(c.useState)(""),j=b(N,2),O=j[0],S=j[1],I=function(t){s(!0),t.preventDefault(),function(){var t=n(o.a.mark(function t(){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.post("https://soapboxapi.megahoot.net/user/login",{email:h,password:x}).then(function(t){if(t.data.loggedIn){var a={username:t.data.username,email:t.data.email};localStorage.setItem("loggedIn",JSON.stringify(a)),S(t.data.message),setTimeout(function(){e.push("/")},200)}S(t.data.message)});case 2:case"end":return t.stop()}},t,p)}));return function(){return t.apply(this,arguments)}}()(),setTimeout(function(){s(!1)},1e3)};return l.a.createElement("div",null,l.a.createElement(u.b,{className:"login-form mx-auto p-4 pb-0"},l.a.createElement("h3",{className:"text-center mb-2 login-head"},"Login"),l.a.createElement(u.b.Group,{className:"mb-1",controlId:"formBasicEmail"},l.a.createElement(u.b.Label,{className:"text-color-auth"},"Email"),l.a.createElement(u.b.Control,{type:"email",placeholder:"Email",value:h,onChange:function(e){v(e.target.value)}}),l.a.createElement(u.b.Text,{className:"text-muted"},"We'll never share your email with anyone else.")),l.a.createElement(u.b.Group,{className:"mb-1",controlId:"formBasicPassword"},l.a.createElement(u.b.Label,{className:"text-color-auth"},"Password"),l.a.createElement(u.b.Control,{type:"password",placeholder:"Password",value:x,onChange:function(e){w(e.target.value)}})),l.a.createElement("div",{className:"text-end text-decoration-none"},l.a.createElement(m.b,{to:"/forgot-password",className:"text-decoration-none primary-color forgot-password"},"Forgot Password?")),l.a.createElement("strong",{className:"text-center d-flex justify-content-center m-2 text-color-auth"},O),l.a.createElement("button",{className:"d-grid col-12 btn-main",variant:"primary",type:"submit",onClick:I,disabled:!h||!x},r?l.a.createElement(d.a,{color:"#fff",size:10}):"Login")))};t.default=g}});
//# sourceMappingURL=LoginComp.1c184277.chunk.js.map